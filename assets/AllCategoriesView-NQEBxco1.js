import{_ as q}from"./MainLayout.vue_vue_type_script_setup_true_lang-BupE7rrv.js";import{C as L,_ as z}from"./CommentCard.vue_vue_type_script_setup_true_lang-Dj-18xeX.js";import{d as N,A as B,s as V,c as _,o as t,a as i,j as C,b as p,w as x,e as R,t as h,x as F,R as G,g as b,B as I,h as S,i as y,n as U,r as k,F as D,f as M}from"./index-CFQCWbJI.js";import{g as T,c as H,q as u,o as m,w as A,a as J}from"./index.esm-DZNw5S96.js";import{_ as K}from"./notyf.min-DBCpgn8f.js";const O={class:"flex justify-center items-center bg-red-50 main_wrapper"},P={class:"main"},Q=N({__name:"EmptyAnimation",setup(E){const v=V(),e=B(()=>v.params.category||"default");return(d,c)=>(t(),_("div",O,[i("div",P,[c[0]||(c[0]=C(`<div class="antenna" data-v-2813dc1a><div class="antenna_shadow" data-v-2813dc1a></div><div class="a1" data-v-2813dc1a></div><div class="a1d" data-v-2813dc1a></div><div class="a2" data-v-2813dc1a></div><div class="a2d" data-v-2813dc1a></div><div class="a_base" data-v-2813dc1a></div></div><div class="tv" data-v-2813dc1a><div class="cruve" data-v-2813dc1a><svg class="curve_svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 189.929 189.929" xml:space="preserve" data-v-2813dc1a><path d="M70.343,70.343c-30.554,30.553-44.806,72.7-39.102,115.635l-29.738,3.951C-5.442,137.659,11.917,86.34,49.129,49.13
          C86.34,11.918,137.664-5.445,189.928,1.502l-3.95,29.738C143.041,25.54,100.895,39.789,70.343,70.343z" data-v-2813dc1a></path></svg></div><div class="display_div" data-v-2813dc1a><div class="screen_out" data-v-2813dc1a><div class="screen_out1" data-v-2813dc1a><div class="screen" data-v-2813dc1a><span class="notfound_text" data-v-2813dc1a>No hay comentarios</span></div></div></div></div><div class="lines" data-v-2813dc1a><div class="line1" data-v-2813dc1a></div><div class="line2" data-v-2813dc1a></div><div class="line3" data-v-2813dc1a></div></div><div class="buttons_div" data-v-2813dc1a><div class="b1" data-v-2813dc1a><div data-v-2813dc1a></div></div><div class="b2" data-v-2813dc1a></div><div class="speakers" data-v-2813dc1a><div class="g1" data-v-2813dc1a><div class="g11" data-v-2813dc1a></div><div class="g12" data-v-2813dc1a></div><div class="g13" data-v-2813dc1a></div></div><div class="g" data-v-2813dc1a></div><div class="g" data-v-2813dc1a></div></div></div></div>`,2)),p(F(G),{to:{name:"create-comment",params:{category:e.value}},class:"px-4 py-2 mt-6 text-white bg-rose-800 rounded-md"},{default:x(()=>[R("Crear nuevo comentario para "+h(e.value),1)]),_:1},8,["to"]),c[1]||(c[1]=C('<div class="bottom" data-v-2813dc1a><div class="base1" data-v-2813dc1a></div><div class="base2" data-v-2813dc1a></div><div class="base3" data-v-2813dc1a></div></div><div class="text-black text_404" data-v-2813dc1a><span class="text_4041" data-v-2813dc1a>No hay comentarios</span></div>',2))])]))}}),W=K(Q,[["__scopeId","data-v-2813dc1a"]]),X={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},Y={class:""},Z={class:"overflow-y-scroll relative col-span-2 h-dvh"},aa={class:"sticky top-0 left-0 z-10 px-2 py-1 text-rose-800 bg-white"},ea={key:0,class:"flex flex-col justify-center items-center"},sa={key:1},ra=N({__name:"AllCategoriesView",setup(E){const v=V(),e=b([]),d=b(!1),c=T(),l=H(c,"complaints"),s=B(()=>v.params.category||"default"),$=u(l,m("createdAt","desc"));let g=u(l,m("createdAt","desc"),A("category","==",s.value));const f=()=>{e.value=[];const w=s.value==="default"?$:g;d.value=!0,J(w).then(o=>{o.docs.forEach(n=>{const r=n.data();r.id=n.id,e.value.push(r),console.log(r)}),d.value=!1}).catch(o=>{console.error("Error al obtener los comentarios:",o),d.value=!1}).finally(()=>{d.value=!1})};I(()=>v.params.category,()=>{s.value==="default"?g=u(l,m("createdAt","desc")):g=u(l,m("createdAt","desc"),A("category","==",s.value)),e.value=[],f()});const j=()=>{f()};return S(()=>{f()}),(w,o)=>{const n=k("RouterLink"),r=k("v-icon");return t(),y(q,null,{main:x(()=>[i("section",X,[i("div",Y,[p(L,{class:"overflow-y-scroll max-h-dvh"})]),i("div",Z,[i("h2",aa,h(s.value==="default"?"Comentarios Generales":"Comentarios de la categorÃ­a: "+s.value),1),p(n,{to:{name:"create-comment",params:{category:s.value}},class:"sticky right-0 top-6 z-10 px-2 py-1 text-rose-800 bg-white rounded-full border border-rose-800 animate-pulse"},{default:x(()=>[R("Crear comentario para "+h(s.value),1)]),_:1},8,["to"]),d.value?(t(),_("div",ea,[p(r,{name:"ri-loader-5-fill",class:"mx-auto text-rose-600",animation:"spin",scale:"7.5",speed:"fast"}),o[0]||(o[0]=i("p",{class:"text-center text-slate-800"},"Cargando comentarios...",-1))])):U("",!0),e.value.length>0?(t(),_("div",sa,[(t(!0),_(D,null,M(e.value,a=>(t(),y(z,{key:a.id,onCallReload:j,category:a.category,content:a.content,createdAt:a.createdAt,id:a.id,image:a.image,title:a.title,user:a.userName,userUid:a.userUid,service:a.service,date:a.createdAt,userName:a.userName,docId:a.id,answers:a.answers},null,8,["category","content","createdAt","id","image","title","user","userUid","service","date","userName","docId","answers"]))),128))])):(t(),y(W,{key:2,class:"flex justify-center items-center min-h-dvh"}))])])]),_:1})}}});export{ra as default};
