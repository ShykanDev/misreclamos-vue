import{_ as F}from"./MainLayout.vue_vue_type_script_setup_true_lang-Cbked7YU.js";import{C as G,_ as U}from"./CommentCard.vue_vue_type_script_setup_true_lang-CbURDHD-.js";import{d as q,A as R,s as j,c as f,o as d,a as c,j as A,b as y,w as C,e as E,t as b,x as D,R as M,g as m,B as T,h as H,i as g,n as N,r as V,F as J,f as K,q as O}from"./index-Ds1eOCXr.js";import{g as P,c as Q,q as _,o as p,w as B,a as W}from"./index.esm-yCnv6WQ6.js";import{_ as X}from"./notyf.min-DBCpgn8f.js";import"./browser-image-compression-DILJcqf6.js";const Y={class:"flex justify-center items-center bg-red-50 main_wrapper"},Z={class:"main"},aa=q({__name:"EmptyAnimation",setup($){const n=j(),s=R(()=>n.params.category||"default");return(o,i)=>(d(),f("div",Y,[c("div",Z,[i[0]||(i[0]=A(`<div class="antenna" data-v-2813dc1a><div class="antenna_shadow" data-v-2813dc1a></div><div class="a1" data-v-2813dc1a></div><div class="a1d" data-v-2813dc1a></div><div class="a2" data-v-2813dc1a></div><div class="a2d" data-v-2813dc1a></div><div class="a_base" data-v-2813dc1a></div></div><div class="tv" data-v-2813dc1a><div class="cruve" data-v-2813dc1a><svg class="curve_svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 189.929 189.929" xml:space="preserve" data-v-2813dc1a><path d="M70.343,70.343c-30.554,30.553-44.806,72.7-39.102,115.635l-29.738,3.951C-5.442,137.659,11.917,86.34,49.129,49.13
          C86.34,11.918,137.664-5.445,189.928,1.502l-3.95,29.738C143.041,25.54,100.895,39.789,70.343,70.343z" data-v-2813dc1a></path></svg></div><div class="display_div" data-v-2813dc1a><div class="screen_out" data-v-2813dc1a><div class="screen_out1" data-v-2813dc1a><div class="screen" data-v-2813dc1a><span class="notfound_text" data-v-2813dc1a>No hay comentarios</span></div></div></div></div><div class="lines" data-v-2813dc1a><div class="line1" data-v-2813dc1a></div><div class="line2" data-v-2813dc1a></div><div class="line3" data-v-2813dc1a></div></div><div class="buttons_div" data-v-2813dc1a><div class="b1" data-v-2813dc1a><div data-v-2813dc1a></div></div><div class="b2" data-v-2813dc1a></div><div class="speakers" data-v-2813dc1a><div class="g1" data-v-2813dc1a><div class="g11" data-v-2813dc1a></div><div class="g12" data-v-2813dc1a></div><div class="g13" data-v-2813dc1a></div></div><div class="g" data-v-2813dc1a></div><div class="g" data-v-2813dc1a></div></div></div></div>`,2)),y(D(M),{to:{name:"create-comment",params:{category:s.value}},class:"px-4 py-2 mt-6 text-white bg-rose-800 rounded-md"},{default:C(()=>[E("Crear nuevo comentario para "+b(s.value),1)]),_:1},8,["to"]),i[1]||(i[1]=A('<div class="bottom" data-v-2813dc1a><div class="base1" data-v-2813dc1a></div><div class="base2" data-v-2813dc1a></div><div class="base3" data-v-2813dc1a></div></div><div class="text-black text_404" data-v-2813dc1a><span class="text_4041" data-v-2813dc1a>No hay comentarios</span></div>',2))])]))}}),ea=X(aa,[["__scopeId","data-v-2813dc1a"]]),sa={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},ta={class:""},da={class:"overflow-y-scroll relative col-span-2 h-dvh"},ca={class:"sticky top-0 z-10 px-2 py-1 text-rose-800"},oa={class:"flex justify-end"},ia={key:0,class:"flex flex-col justify-center items-center"},ra={key:1},_a=q({__name:"AllCategoriesView",setup($){const n=j(),s=m([]),o=m(!1),i=P(),v=Q(i,"complaints"),e=R(()=>n.params.category||"default"),I=_(v,p("createdAt","desc"));let h=_(v,p("createdAt","desc"),B("category","==",e.value));const x=()=>{s.value=[];const u=e.value==="default"?I:h;o.value=!0,W(u).then(t=>{t.docs.forEach(r=>{const l=r.data();l.id=r.id,s.value.push(l),console.log(l)}),o.value=!1}).catch(t=>{console.error("Error al obtener los comentarios:",t),o.value=!1}).finally(()=>{o.value=!1})};T(()=>n.params.category,()=>{e.value==="default"?h=_(v,p("createdAt","desc")):h=_(v,p("createdAt","desc"),B("category","==",e.value)),s.value=[],x()});const L=u=>{try{w.value=u,k.value=[w.value],z()}catch(t){console.error(t)}},S=()=>{x()},w=m(""),k=m([w.value]),z=()=>{O({images:k.value})};return H(()=>{x()}),(u,t)=>{const r=V("v-icon"),l=V("RouterLink");return d(),g(F,null,{main:C(()=>[c("section",sa,[c("div",ta,[y(G,{class:"overflow-y-scroll max-h-dvh"})]),c("div",da,[c("h2",ca,b(e.value==="default"?"Comentarios Generales":"Comentarios de la categorÃ­a: "+e.value),1),c("div",oa,[e.value!=="default"?(d(),g(l,{key:0,to:{name:"create-comment",params:{category:e.value}},class:"flex sticky right-5 top-6 z-10 gap-2 items-center px-2 py-1 text-white bg-rose-800 rounded-full border border-rose-400 transition-transform duration-200 ease-in-out hover:bg-rose-600 hover:-translate-y-0.5"},{default:C(()=>[y(r,{name:"md-postadd-outlined",scale:"1.5"}),E(" Crear comentario "+b(e.value),1)]),_:1},8,["to"])):N("",!0)]),o.value?(d(),f("div",ia,[y(r,{name:"ri-loader-5-fill",class:"mx-auto text-rose-600",animation:"spin",scale:"7.5",speed:"fast"}),t[0]||(t[0]=c("p",{class:"text-center text-slate-800"},"Cargando comentarios...",-1))])):N("",!0),s.value.length>0?(d(),f("div",ra,[(d(!0),f(J,null,K(s.value,a=>(d(),g(U,{key:a.id,onCallReload:S,onCallViewer:L,category:a.category,content:a.content,createdAt:a.createdAt,id:a.id,image:a.image,title:a.title,user:a.userName,userUid:a.userUid,service:a.service,date:a.createdAt,userName:a.userName,docId:a.id,answers:a.answers},null,8,["category","content","createdAt","id","image","title","user","userUid","service","date","userName","docId","answers"]))),128))])):(d(),g(ea,{key:2,class:"flex justify-center items-center min-h-dvh"}))])])]),_:1})}}});export{_a as default};
