import{_ as $}from"./MainLayout.vue_vue_type_script_setup_true_lang-DL6RmU7L.js";import{C as j,_ as q}from"./CategoriesComponent-BqZTcGB9.js";import{d as N,A as B,s as V,i as _,a as t,f as i,l as C,g as p,w as x,h as I,t as h,x as L,R as z,r as b,B as F,o as G,c as y,p as S,b as k,F as U,j as M}from"./index-fsTiHHJ0.js";import{g as T,c as H,q as u,o as m,w as A,a as J}from"./index.esm-Ckw8wooS.js";import{_ as K}from"./_plugin-vue_export-helper-CtzHLKxq.js";const O={class:"flex justify-center items-center bg-red-50 main_wrapper"},P={class:"main"},Q=N({__name:"EmptyAnimation",setup(R){const v=V(),a=B(()=>v.params.category||"default");return(c,d)=>(t(),_("div",O,[i("div",P,[d[0]||(d[0]=C(`<div class="antenna" data-v-752ec174><div class="antenna_shadow" data-v-752ec174></div><div class="a1" data-v-752ec174></div><div class="a1d" data-v-752ec174></div><div class="a2" data-v-752ec174></div><div class="a2d" data-v-752ec174></div><div class="a_base" data-v-752ec174></div></div><div class="tv" data-v-752ec174><div class="cruve" data-v-752ec174><svg class="curve_svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 189.929 189.929" xml:space="preserve" data-v-752ec174><path d="M70.343,70.343c-30.554,30.553-44.806,72.7-39.102,115.635l-29.738,3.951C-5.442,137.659,11.917,86.34,49.129,49.13
          C86.34,11.918,137.664-5.445,189.928,1.502l-3.95,29.738C143.041,25.54,100.895,39.789,70.343,70.343z" data-v-752ec174></path></svg></div><div class="display_div" data-v-752ec174><div class="screen_out" data-v-752ec174><div class="screen_out1" data-v-752ec174><div class="screen" data-v-752ec174><span class="notfound_text" data-v-752ec174>No hay comentarios</span></div></div></div></div><div class="lines" data-v-752ec174><div class="line1" data-v-752ec174></div><div class="line2" data-v-752ec174></div><div class="line3" data-v-752ec174></div></div><div class="buttons_div" data-v-752ec174><div class="b1" data-v-752ec174><div data-v-752ec174></div></div><div class="b2" data-v-752ec174></div><div class="speakers" data-v-752ec174><div class="g1" data-v-752ec174><div class="g11" data-v-752ec174></div><div class="g12" data-v-752ec174></div><div class="g13" data-v-752ec174></div></div><div class="g" data-v-752ec174></div><div class="g" data-v-752ec174></div></div></div></div>`,2)),p(L(z),{to:{name:"create-comment",params:{category:a.value}},class:"px-4 py-2 mt-6 text-white bg-rose-800 rounded-md"},{default:x(()=>[I("Crear nuevo comentario para "+h(a.value),1)]),_:1},8,["to"]),d[1]||(d[1]=C('<div class="bottom" data-v-752ec174><div class="base1" data-v-752ec174></div><div class="base2" data-v-752ec174></div><div class="base3" data-v-752ec174></div></div><div class="text-black text_404" data-v-752ec174><span class="text_4041" data-v-752ec174>No hay comentarios</span></div>',2))])]))}}),W=K(Q,[["__scopeId","data-v-752ec174"]]),X={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},Y={class:""},Z={class:"overflow-y-scroll relative col-span-2 h-dvh"},ee={class:"sticky top-0 left-0 z-10 px-2 py-1 text-rose-800 bg-white"},ae={key:0,class:"flex flex-col justify-center items-center"},se={key:1},re=N({__name:"AllCategoriesView",setup(R){const v=V(),a=b([]),c=b(!1),d=T(),l=H(d,"complaints"),s=B(()=>v.params.category||"default"),D=u(l,m("createdAt","desc"));let g=u(l,m("createdAt","desc"),A("category","==",s.value));const f=()=>{a.value=[];const w=s.value==="default"?D:g;c.value=!0,J(w).then(o=>{o.docs.forEach(n=>{const r=n.data();r.id=n.id,a.value.push(r),console.log(r)}),c.value=!1}).catch(o=>{console.error("Error al obtener los comentarios:",o),c.value=!1}).finally(()=>{c.value=!1})};F(()=>v.params.category,()=>{s.value==="default"?g=u(l,m("createdAt","desc")):g=u(l,m("createdAt","desc"),A("category","==",s.value)),a.value=[],f()});const E=()=>{f()};return G(()=>{f()}),(w,o)=>{const n=k("RouterLink"),r=k("v-icon");return t(),y($,null,{main:x(()=>[i("section",X,[i("div",Y,[p(j,{class:"overflow-y-scroll max-h-dvh"})]),i("div",Z,[i("h2",ee,h(s.value==="default"?"Comentarios Generales":"Comentarios de la categorÃ­a: "+s.value),1),p(n,{to:{name:"create-comment",params:{category:s.value}},class:"sticky right-0 top-3 z-10 px-2 py-1 text-white bg-rose-800"},{default:x(()=>[I("Crear comentario para "+h(s.value),1)]),_:1},8,["to"]),c.value?(t(),_("div",ae,[p(r,{name:"ri-loader-5-fill",class:"mx-auto text-rose-600",animation:"spin",scale:"7.5",speed:"fast"}),o[0]||(o[0]=i("p",{class:"text-center text-slate-800"},"Cargando comentarios...",-1))])):S("",!0),a.value.length>0?(t(),_("div",se,[(t(!0),_(U,null,M(a.value,e=>(t(),y(q,{key:e.id,onCallReload:E,category:e.category,content:e.content,createdAt:e.createdAt,id:e.id,image:e.image,title:e.title,user:e.userName,userUID:e.userUID,service:e.service,date:e.createdAt,userName:e.userName,docId:e.id,answers:e.answers},null,8,["category","content","createdAt","id","image","title","user","userUID","service","date","userName","docId","answers"]))),128))])):(t(),y(W,{key:2,class:"flex justify-center items-center min-h-dvh"}))])])]),_:1})}}});export{re as default};
