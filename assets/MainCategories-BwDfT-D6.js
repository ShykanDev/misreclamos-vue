import{_ as D,C as F}from"./CommentCard.vue_vue_type_script_setup_true_lang-tqWJJ3do.js";import{_ as L}from"./MainLayout.vue_vue_type_script_setup_true_lang-BaOUoFWW.js";import{d as B,r as b,c as p,o as i,a as e,b as a,e as y,F as S,f as H,w as N,t as z,g as d,h as M,i as G,j as T,k as P,q as K,n as V,l as O}from"./index-K534mkE5.js";import{g as Y,c as J,q as j,l as $,s as Q,o as q,a as A}from"./index.esm-DXngxerU.js";import{N as U,_ as W}from"./notyf.min-DBCpgn8f.js";import"./browser-image-compression-DILJcqf6.js";const X="/misreclamos-vue/assets/grito-hT1qOh5c.png",Z={class:"px-4 py-1.5 bg-gradient-to-b from-white to-blue-50 border-b-[1px] border-blue-100 border-dashed sm:px-6 lg:px-8"},ee={class:"mx-auto"},te={class:"px-4 py-3 mx-auto sm:px-2 lg:px-3"},se={class:"grid grid-cols-1 gap-12 items-center lg:grid-cols-2"},oe={class:"text-center lg:text-left"},ae={class:"inline-flex justify-center items-center px-3 py-1 mb-4 text-sm font-medium text-rose-600 bg-rose-50 rounded-full"},re={class:"flex flex-wrap gap-2 justify-center mb-10 lg:justify-start"},ne={class:"flex justify-center lg:justify-start"},le=B({__name:"HomeInitial",setup(k){const n=[{name:"Bancos",icon:"bi-bank2"},{name:"Gobierno",icon:"ri-government-line"},{name:"Redes Sociales",icon:"io-chatbubbles"},{name:"Paquetería y Correos",icon:"bi-mailbox2"},{name:"Salud",icon:"md-healthandsafety"},{name:"Transportes",icon:"fa-bus-alt"},{name:"Streaming",icon:"md-livetv-twotone"},{name:"Hospedaje",icon:"ri-hotel-line"},{name:"Comida y Restaurantes",icon:"io-restaurant"}];return(m,t)=>{const v=b("v-icon"),_=b("RouterLink");return i(),p("section",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[e("div",ae,[a(v,{name:"fa-balance-scale",class:"mr-1.5",scale:"1.5"}),t[0]||(t[0]=y(" Plataforma de reclamos transparente ",-1))]),t[2]||(t[2]=e("h1",{class:"mb-6 text-4xl font-extrabold leading-tight text-gray-900 sm:text-5xl lg:text-6xl"},[e("span",{class:"block animate-fade-left"},"Reclame con sus experiencias,"),e("span",{class:"block text-transparent bg-clip-text bg-gradient-to-r from-rose-600 to-purple-600 animate__animated animate__jackInTheBox animate-delay-500"}," descubra con las de otros ")],-1)),t[3]||(t[3]=e("p",{class:"mb-8 max-w-prose text-lg text-gray-600"}," ¿Tiene un reclamo? Compartea sus experiencias y hagamos visible lo que necesita cambiar en servicios, empresas, productos y más. ",-1)),e("div",re,[(i(),p(S,null,H(n,(g,x)=>a(_,{to:{name:"all-categories",params:{category:g.name}},key:x,class:"inline-flex items-center px-4 py-2 text-lg font-medium text-white bg-rose-600 rounded-lg transition-all hover:bg-rose-700 hover:shadow-lg hover:transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2"},{default:N(()=>[a(v,{name:g.icon,class:"mr-2"},null,8,["name"]),y(" "+z(g.name),1)]),_:2},1032,["to"])),64))]),e("div",ne,[a(_,{to:"/register",class:"inline-flex justify-center items-center px-8 py-4 text-base font-medium text-white bg-gradient-to-r from-red-500 to-red-600 rounded-lg shadow-lg transition-all transform hover:from-rose-700 hover:to-red-900 hover:shadow-xl hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2"},{default:N(()=>[...t[1]||(t[1]=[y(" ¡Registro Gratis! ",-1),e("svg",{class:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])]),_:1})])]),t[4]||(t[4]=e("div",{class:"relative"},[e("div",{class:"overflow-hidden relative rounded-2xl"},[e("div",{class:"absolute inset-0 z-10"}),e("img",{src:X,alt:"Personas expresando sus reclamos",class:"object-cover relative z-20 w-full rounded-2xl filter drop-shadow-xl animate-fade-up"})])],-1))])])])])}}}),ie={class:""},ce={key:0,class:"flex flex-col justify-center items-center"},de={key:0,class:"flex flex-col justify-center items-center"},me=B({__name:"CommentsComponent",setup(k){const n=new U({duration:5e3,position:{x:"right",y:"top"},dismissible:!0}),m=d(""),t=d([m.value]),v=()=>{K({images:t.value})},_=c=>{try{m.value=c,t.value=[m.value],v()}catch(s){const r=s;n.error(r)}},g=Y(),x=J(g,"complaints"),h=d([]),f=d(!0),w=d(null),C=d(20),E=async()=>{l.value&&(await V(),l.value.scrollTop=l.value.scrollHeight)},R=()=>{f.value=!0;let c;w.value?c=j(x,q("createdAt","desc"),Q(w.value),$(C.value)):c=j(x,q("createdAt","desc"),$(C.value)),A(c).then(s=>{s.forEach(r=>{const u=r.data();h.value.push({...u,id:r.id,answers:u.answers?.map(o=>({...o,id:o.id}))||[]})}),w.value=s.docs[s.docs.length-1]||w.value,console.log(`Container height: ${l.value?.getBoundingClientRect().height}`),console.log(`Container scroll height: ${l.value?.scrollHeight}`),E()}).catch(s=>{console.error(s),n.error("Error al cargar los comentarios")}).finally(()=>{f.value=!1})},I=()=>{h.value=[],f.value=!0;const c=j(x,q("createdAt","desc"),$(C.value));A(c).then(s=>{s.forEach(r=>{const u=r.data();h.value.push({...u,id:r.id,answers:u.answers?.map(o=>({...o,id:o.id}))||[]})})}).catch(s=>{console.error(s),n.error("Error al cargar los comentarios")}).finally(()=>{f.value=!1})},l=d();return M(h,async()=>{await V(),l.value&&(l.value.scrollTop=l.value.scrollHeight)}),G(()=>{R()}),(c,s)=>{const r=b("v-icon"),u=b("viewer");return i(),p("section",ie,[f.value?(i(),p("div",ce,[a(r,{name:"ri-loader-5-fill",class:"mx-auto text-rose-600",animation:"spin",scale:"7.5",speed:"fast"}),s[0]||(s[0]=e("p",{class:"text-center text-slate-800"},"Cargando comentarios...",-1))])):T("",!0),e("div",{ref_key:"containerComments",ref:l,class:""},[a(u,{images:t.value},null,8,["images"]),(i(!0),p(S,null,H(h.value,o=>(i(),P(D,{key:o.id,onCallReload:I,onCallViewer:_,category:o.category,content:o.content,image:o.image,title:o.title,userName:o.userName,date:o.createdAt,service:o.service,answers:o.answers,docId:o.id},null,8,["category","content","image","title","userName","date","service","answers","docId"]))),128)),f.value?(i(),p("div",de,[a(r,{name:"ri-loader-5-fill",class:"mx-auto text-rose-600",animation:"spin",scale:"7.5",speed:"fast"}),s[1]||(s[1]=e("p",{class:"text-center text-slate-800"},"Cargando comentarios...",-1))])):T("",!0),e("button",{onClick:R,class:"flex justify-center items-center px-4 py-2.5 mb-32 w-full text-sm font-medium text-white bg-rose-600 rounded-lg shadow-sm transition-all duration-700 ease-in-out cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 hover:bg-rose-500"},"Cargar más")],512)])}}}),ue="/misreclamos-vue/assets/anuncio-1-B7uhvKvY.png",pe={},fe={class:"p-4 mx-auto space-y-4 w-full border border-gray-400 bg-slate-200 rounded-4xl"};function ge(k,n){return i(),p("div",fe,[...n[0]||(n[0]=[O('<h2 class="mb-6 text-2xl font-bold text-gray-500">Publicidad</h2><div class="flex flex-col gap-4 w-full"><a href="https://oficiomaestro.com/index.php" target="_blank" rel="noopener noreferrer" class="block p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent bg-[url(&#39;https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80&#39;)] bg-cover bg-center"><div class="p-4 w-full rounded-lg bg-black/60"><p class="text-3xl font-semibold text-white">oficiomaestro.com</p><p class="text-2xl text-white/90"> Sitio para indagar o reportar a profesionistas y maestros de cualquier área </p></div></a><a href="https://miempleador.com/" target="_blank" rel="noopener noreferrer" class="block p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent bg-[url(&#39;https://images.unsplash.com/photo-1579389083078-4e7018379f7e?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80&#39;)] bg-cover bg-center"><div class="p-4 w-full rounded-lg bg-black/60"><p class="text-3xl font-semibold text-white">miempleador.com</p><p class="text-2xl text-white/90"> Sitio para indagar a empleados y empleadores conociendo las experiencias de anteriores trabajadores o jefes </p></div></a><a href="https://miarrendador.com/index.php" target="_blank" rel="noopener noreferrer" class="block p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent bg-[url(&#39;https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80&#39;)] bg-cover bg-center"><div class="p-4 rounded-lg bg-black/60"><p class="text-3xl font-semibold text-white">miarrendatario.com</p><p class="text-2xl text-white/90"> Sitio para descubrir a arrendatarios y arrendadores conociendo las experiencias de anteriores inquilinos o dueños </p></div></a></div><div class="p-4 mt-6 bg-gray-50 rounded-xl border border-gray-200"><fieldset class="space-y-2"><legend class="px-2 text-sm font-medium text-gray-500">Publicidad</legend><a href="https://miexpareja.net/" target="_blank" rel="noopener noreferrer" class="block"><img src="'+ue+'" alt="Publicidad" class="w-full h-auto rounded-lg"></a></fieldset></div>',3)])])}const xe=W(pe,[["render",ge]]),he={class:"grid grid-cols-[1fr_2fr_1fr] w-full bg-gradient-to-b from-blue-50 to-gray-100"},be={class:"overflow-y-scroll h-dvh"},ve={class:"overflow-y-scroll px-2 h-dvh"},_e={class:"flex sticky top-0 z-10 gap-2 items-center p-2 text-xl font-bold text-center text-white bg-rose-800 rounded-md just"},we={class:"overflow-y-scroll p-6 bg-gray-100 rounded-sm h-dvh"},Ne=B({__name:"MainCategories",setup(k){return d(),(n,m)=>{const t=b("v-icon");return i(),P(L,null,{main:N(()=>[a(le),e("section",he,[e("article",be,[a(F)]),e("article",ve,[e("h2",_e,[a(t,{name:"hi-solid-chat-alt-2",class:"text-white",scale:"2"}),m[0]||(m[0]=y(" Comentarios mas recientes",-1))]),a(me)]),e("article",we,[a(xe)])])]),_:1})}}});export{Ne as default};
