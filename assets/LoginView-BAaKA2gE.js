import{g as P,b as U,d as y,s as B,_ as z}from"./MainLayout.vue_vue_type_script_setup_true_lang-DzHj2foM.js";import{d as V,g as a,c,o as i,a as o,j as m,m as k,p as g,v as x,u as C,t as f,e as l,b as E,r as q,w as L,l as F,x as M,k as A}from"./index-ucCrkPQJ.js";import{N as D,_ as T}from"./notyf.min-DBCpgn8f.js";const H={class:"flex justify-center items-center p-4 min-h-screen bg-gradient-to-br from-pink-50 to-red-50 login_bg"},O={class:"p-10 space-y-6 w-full max-w-5xl bg-white rounded-2xl shadow-2xl"},W={key:0,class:"mt-2 text-sm text-red-500"},G={key:0,class:"mt-2 text-sm text-red-500"},J={class:"text-center"},K={key:0,class:"flex fixed inset-0 z-40 flex-col justify-center items-center p-4 min-h-dvh bg-black/50"},Q={class:"relative p-8 mt-16 space-y-6 w-full max-w-4xl bg-white rounded-2xl border-2 border-yellow-300 shadow-lg transition-all duration-300 animate__animated animate__zoomInUp hover:shadow-xl"},X={class:"p-4 mt-4 bg-blue-50 rounded-lg"},Y={class:"text-sm text-center text-blue-700"},Z={class:"flex flex-col justify-center items-center w-full"},_={key:1,class:"flex flex-col justify-center items-center p-4 bg-red-50 rounded-xl"},ee=V({__name:"LoginComponent",setup(S){const b=M(),d=a(!1),h=()=>{d.value=!d.value},u=new D({position:{x:"center",y:"center"},duration:6e3,dismissible:!0}),s=a(""),p=a(""),t=a({}),R=a(!1),v=a(!1),j=()=>{t.value={};let r=!0;return s.value?/^\S+@\S+\.\S+$/.test(s.value)||(t.value.email="Ingresa un correo electrónico válido.",r=!1):(t.value.email="El correo electrónico es obligatorio.",r=!1),p.value?p.value.length<6&&(t.value.password="La contraseña debe tener al menos 6 caracteres.",r=!1):(t.value.password="La contraseña es obligatoria.",r=!1),r},w=P(),N=()=>{j()?U(w,s.value,p.value).then(r=>{if(console.log("userCredential.user.emailVerified =>",r.user.emailVerified),!r.user.emailVerified){v.value=!0,console.log("Email no verificado");return}const e=r.user;R.value=e.emailVerified,y().setUserEmailVerified(e.emailVerified),y().setUserLoggedIn(!0),u.success(`Le damos la bienvenida ${e.displayName}`),console.log(e),b.push("/")}).catch(r=>{const e=r.code;u.error(`Error al iniciar sesión, error: ${e}`),console.log(`ErrorCode: ${e}`)}):(console.log("Formulario inválido"),u.error("Formulario inválido"))},$=async()=>{try{await B(w,s.value),u.success("Correo enviado, por favor verifique su bandeja de entrada, spam o correo no deseado"),console.log("Correo enviado")}catch(r){console.log(r),u.error(`Error al enviar correo, error: ${r}`)}};return(r,e)=>{const I=q("Router-Link");return i(),c("div",H,[o("div",O,[e[27]||(e[27]=o("h2",{class:"text-3xl font-bold text-center text-pink-600"},"Iniciar Sesión",-1)),o("form",{onSubmit:k(N,["prevent"]),class:"space-y-6"},[o("div",null,[e[4]||(e[4]=o("label",{for:"email",class:"block mb-1 text-sm font-medium text-gray-700"}," Correo Electrónico ",-1)),g(o("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=n=>s.value=n),type:"email",class:C(["px-4 py-3 w-full rounded-xl border border-gray-300 transition-all outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500",{"border-red-500":t.value.email}]),placeholder:"ejemplo@correo.com"},null,2),[[x,s.value]]),t.value.email?(i(),c("p",W,f(t.value.email),1)):m("",!0)]),o("div",null,[e[5]||(e[5]=o("label",{for:"password",class:"block mb-1 text-sm font-medium text-gray-700"}," Contraseña ",-1)),g(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>p.value=n),type:"password",class:C(["px-4 py-3 w-full rounded-xl border border-gray-300 transition-all outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500",{"border-red-500":t.value.password}]),placeholder:"••••••••"},null,2),[[x,p.value]]),t.value.password?(i(),c("p",G,f(t.value.password),1)):m("",!0)]),e[8]||(e[8]=o("button",{type:"submit",class:"px-4 py-3 w-full font-bold text-white bg-gradient-to-r from-pink-500 to-red-500 rounded-xl transition-all hover:from-pink-600 hover:to-red-600 focus:ring-4 focus:ring-pink-300"}," Iniciar Sesión ",-1)),o("div",null,[o("p",J,[e[7]||(e[7]=l(" Si es usted nuevo ",-1)),E(I,{to:"/register",class:"font-bold text-pink-600"},{default:L(()=>[...e[6]||(e[6]=[l("Registrese ahora",-1)])]),_:1})])])],32),v.value?(i(),c("div",K,[o("div",Q,[o("button",{onClick:e[2]||(e[2]=n=>v.value=!1),class:"absolute top-4 right-4 px-2 py-1 font-bold text-pink-600 rounded-full border border-pink-600 border-dashed cursor-pointer hover:bg-pink-600 hover:text-white"}," Cerrar "),e[21]||(e[21]=F('<div class="flex justify-center items-center mx-auto w-16 h-16 bg-yellow-100 rounded-full" data-v-037ac481><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-037ac481><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-037ac481></path></svg></div><h2 class="text-2xl font-bold text-center text-gray-800" data-v-037ac481> Verificación de correo pendiente </h2><p class="text-center text-gray-600" data-v-037ac481> Para completar su registro, necesita verificar su dirección de correo electrónico. </p>',3)),o("div",X,[o("p",Y,[e[9]||(e[9]=o("strong",null,"1.",-1)),e[10]||(e[10]=l(" Revise su bandeja de entrada (o spam) en ",-1)),o("strong",null,f(s.value),1),e[11]||(e[11]=l(".",-1)),e[12]||(e[12]=o("br",null,null,-1)),e[13]||(e[13]=o("strong",null,"2.",-1)),e[14]||(e[14]=l(" Busque el correo de verificación enviado por nuestro sistema.",-1)),e[15]||(e[15]=o("br",null,null,-1)),e[16]||(e[16]=o("strong",null,"3.",-1)),e[17]||(e[17]=l(" Haga clic en el enlace de verificación.",-1)),e[18]||(e[18]=o("br",null,null,-1)),e[19]||(e[19]=o("strong",null,"4.",-1)),e[20]||(e[20]=l(" ¡Listo! Su cuenta se validará automáticamente. ",-1))])]),e[22]||(e[22]=o("div",{class:"p-3 mt-4 text-xs text-center text-gray-500 bg-rose-50 rounded-lg"},[o("p",{class:""},[o("strong",{class:"text-rose-600"},"Nota de seguridad:"),o("br"),l(" Este proceso es obligatorio para proteger su cuenta y garantizar que solo usted tenga acceso. Nunca comparta su enlace de verificación con terceros. ")])],-1))])])):m("",!0),o("article",Z,[e[23]||(e[23]=o("p",{class:"text-sm text-center text-gray-500"},"¿Olvidó su contraseña?",-1)),o("button",{onClick:h,class:"px-4 py-2 mx-auto mt-2 font-bold text-pink-700 rounded-xl border-2 border-dashed transition-all cursor-pointer w-sm hover:from-pink-600 hover:to-red-600 focus:ring-4 focus:ring-pink-300"},f(d.value?"Cancelar":"Restablecer Contraseña"),1)]),d.value?(i(),c("section",_,[e[25]||(e[25]=o("h4",null,"Restablecer Contraseña",-1)),e[26]||(e[26]=o("p",null," Por favor, ingrese su correo electrónico y le enviaremos un enlace para restablecer su contraseña. ",-1)),o("form",{onSubmit:k($,["prevent"])},[g(o("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>s.value=n),class:"px-4 py-2 w-full rounded-xl border border-gray-300 transition-all outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500",type:"email",placeholder:"Correo electrónico"},null,512),[[x,s.value]]),e[24]||(e[24]=o("button",{class:"px-4 py-2 mt-2 w-full font-bold text-white bg-gradient-to-r from-pink-500 to-red-500 rounded-xl transition-all hover:from-pink-600 hover:to-red-600 focus:ring-4 focus:ring-pink-300",type:"submit"}," Enviar ",-1))],32)])):m("",!0)])])}}}),oe=T(ee,[["__scopeId","data-v-037ac481"]]),le=V({__name:"LoginView",setup(S){return(b,d)=>(i(),A(z,null,{main:L(()=>[E(oe)]),_:1}))}});export{le as default};
