import{_ as A}from"./MainLayout.vue_vue_type_script_setup_true_lang-BzXPOY4I.js";import{C as k,_ as w}from"./CategoriesComponent-xP7FXXDW.js";import{d as N,r as v,A as B,q,B as D,o as V,c as p,a as s,w as b,f as c,g as y,i as n,n as E,t as F,b as G,F as I,j as U}from"./index-BiswLOs5.js";import{g as j,c as $,q as i,o as d,w as h,a as z}from"./index.esm-DsTkyShF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},M={class:""},R={class:"overflow-y-scroll relative col-span-2 h-dvh"},S={class:"sticky top-0 left-0 z-10 px-2 py-1 text-rose-800 bg-white"},H={key:0,class:"flex flex-col justify-center items-center"},J={key:1},K={key:2},Y=N({__name:"AllCategoriesView",setup(O){const g=q(),o=v([]),r=v(!1),C=j(),l=$(C,"complaints"),t=B(()=>g.params.category||"default"),x=i(l,d("createdAt","desc"));let u=i(l,d("createdAt","desc"),h("category","==",t.value));const _=()=>{o.value=[];const f=t.value==="default"?x:u;r.value=!0,z(f).then(a=>{a.docs.forEach(m=>{o.value.push(m.data())}),r.value=!1}).catch(a=>{console.error("Error al obtener los comentarios:",a),r.value=!1}).finally(()=>{r.value=!1})};return D(()=>g.params.category,()=>{t.value==="default"?u=i(l,d("createdAt","desc")):u=i(l,d("createdAt","desc"),h("category","==",t.value)),o.value=[],_()}),V(()=>{_()}),(f,a)=>{const m=G("v-icon");return s(),p(A,null,{main:b(()=>[c("section",L,[c("div",M,[y(k)]),c("div",R,[c("h2",S,F(t.value==="default"?"Comentarios Generales":"Comentarios de la categoría: "+t.value),1),r.value?(s(),n("div",H,[y(m,{name:"ri-loader-5-fill",class:"mx-auto text-rose-600",animation:"spin",scale:"7.5",speed:"fast"}),a[0]||(a[0]=c("p",{class:"text-center text-slate-800"},"Cargando comentarios...",-1))])):E("",!0),o.value.length>0?(s(),n("div",J,[(s(!0),n(I,null,U(o.value,e=>(s(),p(w,{key:e.createdAt,category:e.category,content:e.content,createdAt:e.createdAt,id:e.id,image:e.image,title:e.title,user:e.userName,userUID:e.userUID,service:e.service,date:e.createdAt,userName:e.userName},null,8,["category","content","createdAt","id","image","title","user","userUID","service","date","userName"]))),128))])):(s(),n("p",K,"No hay comentarios para esta categoría"))])])]),_:1})}}});export{Y as default};
